## 第157天：用感知半径配合电影播放


```@TencentVideo
styleID: 0
tencentVideo:
  vid: y32372y68kg

```


### 字幕

我们经常需要实现一个功能，就是当主角走近一个角色时，会自动播放一段有很多角色的动画。
像这样。
当主角走近时，会不停地播放这个电影方块中的动画。我们来看一下。
在这个电影方块中，**是没有摄影机的**。
也就是**播放时我们还可以控制主角**。
然后它有两个角色，分别是坐着的小女孩和旁边这个会走动的人物，拖动时间轴可以看到他的运动。
那么我们看一下这个功能是如何实现的。
首先在这里我们设置了角色的感知半径，也就是sentientRadius为6米。
并且我们**隐藏了代码方块中的默认角色，但是这个角色会作为sentientRadius判断距离的一个原点。**
比如我们现在**远离这个默认角色**，那么整个电影方块中的**动画会自动停止**。
**当主角走近他时，动画会继续播放。**
这里有一个while(true)永远重复。
这里用**playMovie**指令去播放这个电影方块中的动画。
**从0到-1，也就是从头播到尾。**
然后再不停地循环。
那么我们打开拉杆，
当主角离远时动画会自动停止；
走近时，动画会继续不停地播放。

### 动手练习