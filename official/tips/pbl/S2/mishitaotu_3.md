## 《密室逃脱》第三节
 
提示：如视频播放不了，可在课程项目世界里，点击“讲解回放”进行观看。
 
 ## 课程学习
<video width="100%" controls controlslist="nodownload nofullscreen noremoteplayback" disablePictureInPicture>
  <source src="https://api.keepwork.com/ts-storage/siteFiles/21742/raw#密室逃脱L3.webm" type="video/webm" />
  <source src="https://api.keepwork.com/ts-storage/siteFiles/21743/raw#密室逃脱L3.mp4" type="video/mp4" />
   
  你的浏览器不支持播放
</video>
<style>
video::-webkit-media-controls-fullscreen-button { display: none; } 
</style>

## 字幕

前面两节课，我们已经成功设置好了前面两扇门的打开方式
打开宝箱，拖出红色龙头模型打开门，进入到第二个房间
黄色大门旁边有个电影方块，打开电影方块
点击播放，可以看到黄色大门打开了
由此可见，这个电影方块里面是控制黄色大门打开的动画
这一小节，我们来设置打开黄色大门的机关
实现拖动龙头模型到门柱上面，就能触发机关打开大门

### 步骤一

右键点击门柱，打开属性窗口
在属性里面，给门柱添加插件点事件—open3
当有模型摆放到门柱上时，发送广播消息open3
注意，门柱要设置为有真实物理，插件点事件才能生效
然后，打开场景中的代码方块
拖出事件标签下的【当收到消息时】指令，修改参数为open3
拖出【执行命令】指令，选择激活方块命令，修改后面的参数为电影方块的坐标
这段代码表示当收到广播消息“open3”时，激活电影方块，打开大门
点击运行程序，拖动龙头模型到门柱上，就可以看到大门被打开啦
同样的，代码方块旁边自动创建的电影方块这里不需要用到
所以我们需要删除掉它
最后，点击拉杆，启动程序
不管是拖动黄色龙头模型还是红色龙头模型到门柱上，黄色大门都会打开
这是怎么回事呢？我们下一小节见分晓！

### 步骤二

上一小节中，拖动红色或者黄色龙头模型到门柱上，都能打开大门
这一小节，我们来实现只有拖动黄色龙头模型到门柱上才可以打开大门的效果
想要实现这个效果，我们需要给模型添加自定义标签
右键选中门柱，打开属性窗口
给门柱添加一个自定义标签，输入yellow
然后，点击蓝色字体的插件点事件
选择第一个，只能放置与它有相同自定义标签的物体
设置好后，关闭属性窗口
接着，使用同样的方法给黄色龙头模型也设置同样的标签yellow
自定义标签设置好后，我们关闭属性窗口，再来看看效果
拖动红色龙头模型到门柱上，可以看到模型被弹回原处，门并没有被打开
拖动黄色龙头模型，可以看到此时大门打开了
到这里，我们实现了只有黄色龙头模型才能才能打开大门的效果

### 步骤三

前面的学习，我们一直在思考如何设置开门的机关
但是，如何隐藏线索，也是密室不可缺少的一部分
这一小节，我们来思考一下如何隐藏关键物品，比如这节课的龙头模型
隐藏关键物品可以增加密室的通关难度
那么，应该如何隐藏呢？我们继续往下看
打开工具栏，我们选择平滑沙石方块
在场景中，搭建一个隐藏黄色龙头模型的方形空间
搭建好后，拖动龙头模型到刚刚搭建好的区域里
将模型隐藏起来

### 步骤四
虽然现在龙头模型隐藏起来了，但还是不够隐蔽
我们再继续优化一下，制作遮盖小方块，把它们遮住
再次打开工具栏，找到彩色方块
选择合适的颜色，并放置一块到场景中
选中这个方块，保存为bmax模型，取名为cover
点击不可拖动，设置为可拖动
右键放置两个方块于场景中
拖动它们，将黄色龙头模型和红色龙头模型分别遮住
最后，我们删除掉这个不需要的方块
到这里，关键物品都被隐藏起来了