## 《秘密花园》第一节
 
提示：如视频播放不了，可在课程项目世界里，点击“讲解回放”进行观看。
 
<video width="100%" controls controlslist="nodownload nofullscreen noremoteplayback" disablePictureInPicture>
  <source src="https://api.keepwork.com/ts-storage/siteFiles/21808/raw#秘密花园L1.webm" type="video/webm" />
  <source src="https://api.keepwork.com/ts-storage/siteFiles/21807/raw#秘密花园L1.mp4" type="video/mp4" />
   
  你的浏览器不支持播放
</video>
<style>
video::-webkit-media-controls-fullscreen-button { display: none; } 
</style>

## 字幕


这节课开始，我们学习一个全新的项目：《秘密花园》
这个项目将教同学们如何制作迷宫，设置迷宫关卡等
包括添加起点、终点标识，控制角色移动、迷宫倒计时以及迷宫机关门等等
在场景中，我们已经给大家提前搭建好了一个简单的迷宫
这一小节，我们先来给迷宫添加一个起点标识


### 步骤一

点击E按钮，打开工具栏
在代码标签下选择代码方块，添加到场景中
右键打开代码方块，会自动添加一个电影方块和默认演员
点击角色模型，从模型库中选择合适角色做为迷宫起点标识
这里，我们选择特效下的金色法阵
然后，给该角色取名为“start”
关闭代码方块，右键打开电影方块，来调整一下角色属性
先来调整一下大小，将左下角的属性切换到大小属性
然后拖动小方块调整大小到合适
大小调整好后，再将属性轴切换到位置属性
拖动三色坐标轴，调整到合适位置
接下来，我们还需要为起点标识编程，让它旋转起来
打开代码方块，点击图块，切换到图块编辑页面
将运动标签下的【旋转】指令拖入代码编辑区
点击运行，可以看到起点只旋转了一小段
想要它不停旋转，我们还需要添加【永远重复】指令
点击运行，可以看到起点标识能够不断旋转了
为了实现更顺畅的旋转效果，需要调整等待指令和旋转指令的参数
调整完毕，点击运行，就可以看到起点标识以合适的速度旋转啦

### 步骤二
在上一小节中，我们给迷宫添加了起点标识，并且让它旋转起来了
起点标识有了，我们还需要控制主角移动来走迷宫
那么，代码方块如何控制主角呢？我们这一小节来学习
首先，我们添加一组代码方块和电影方块到场景中
然后，右键打开代码方块，添加一个默认演员角色
将控制标签下的【成为当前玩家化身】指令拖入代码编辑区
点击运行，可以看到默认演员消失了
这是因为演员角色变成了当前玩家的化身，跟当前玩家融为一体啦
按下W、A、S、D键，可以控制它移动
那接下来，我们如何获知，玩家是否进入迷宫，开始游戏呢
要解决这个问题，我们需要侦测玩家是否碰到起点标志
将【永远重复】指令和【如果那么】指令拖入代码编辑区
将感知标签下的【是否碰到】指令拖入【如果那么】指令里面
不断侦测玩家移动的过程中是否碰到起点标识
如果碰到，提示文字“欢迎进入迷宫”
点击运行，控制玩家走到迷宫入口
就可以看到提示玩家进入迷宫的效果啦

### 步骤三

前面两个小节的学习，我们已经添加了迷宫起点标识
为了迷宫游戏的完整性，我们还得添加一个迷宫终点标识
跟起点标识类似，我们先添加一组代码方块和电影方块到场景中
打开代码方块，点击角色模型
从模型库选择合适的角色，这里，我们选择特效下的蓝色法阵
角色添加好后，为终点标识设置一个名字“end”
然后，再打开电影方块，调整它的大小和位置
大小、位置调整好后，我们再来为它编写程序
实现和起点一样，不停旋转的效果
打开代码方块，将【永远重复】指令、【旋转】指令和【等待】指令拖入代码编辑区
调整好参数，点击运行，就可以看到终点不停旋转的效果啦
接着，我们还需要制作主角碰到迷宫终点标识的效果
当主角顺利通关，达到终点时，我们需要恭喜主角通过迷宫，并结束程序
下面，我们继续编程实现上述效果，右键打开控制主角的代码方块
和侦测是否碰到迷宫起点类似，将相关指令拖入代码编辑区并修改参数
然后，添加一条结束程序的指令
点击运行，可以看到，当到达终点时游戏结束，终点标识消失
最后，再添加一个拉杆
使用它来启动或关闭与其全部相连的代码方块
你也快去创建一个属于你自己的迷宫世界吧！
