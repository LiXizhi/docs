## 《太阳钟》第三节
 
提示：如视频播放不了，可在课程项目世界里，点击“讲解回放”进行观看。
 
<video width="100%" controls controlslist="nodownload nofullscreen noremoteplayback" disablePictureInPicture>
  <source src="https://api.keepwork.com/ts-storage/siteFiles/22351/raw#太阳钟L3.webm" type="video/webm" />
  <source src="https://api.keepwork.com/ts-storage/siteFiles/22350/raw#太阳钟L3.mp4" type="video/mp4" />
   
  你的浏览器不支持播放
</video>
<style>
video::-webkit-media-controls-fullscreen-button { display: none; } 
</style>


### 步骤一

在上节课，我们实现了编程控制时间自动变化的效果
但为了使观察更加方便，这节课我们来编程实现按键控制时间变化的效果吧
右键打开代码方块
在前面的学习中，我们知道可以通过变量，控制环境时间变化
那么这里，先新建一个全局变量“hour”，初始值设置为0
然后，在事件标签下，拖出按键指令
编程实现按下按键“1”，就能控制变量“hour”值增加1的效果
接着，可以复制整块程序
修改参数，实现按下按键“2”控制变量“hour”值减1的效果
程序的功能实现后，我们在舞台中显示变量“hour”
点击运行程序，测试下程序效果
可以看到，已经成功实现按键控制变量“hour”增加或减少1的效果啦

### 步骤二

要想实现控制时间变化，我们得把变量与改变时间命令结合起来
这样，按键改变变量的数值时，就能控制时间的变化
右键打开代码方块
现在，我们能够通过按键控制变量“hour”增加或减少1了
接下来，编写程序，利用变量“hour”改变环境时间吧
在事件标签下，拖出发送广播消息指令
我们在按键按下时，发送一个“showtime”的广播消息
然后当收到这个消息时，改变环境时间
这里，新建一个局部变量“time”，它的值等于变量“hour”除以12
在事件标签下，拖出执行命令指令，选择“改变时间”命令
将该命令参数修改为变量“time”
点击运行，按下按键进行测试
可以看到，时间改变时，太阳钟指针影子的朝向也跟着变化
到这里，按键控制时间变化的效果就实现啦


### 步骤三

在上一小节，我们已经实现了按键控制时间变化的效果
下面，我们可以在这个基础上优化程序
添加显示当前时间的效果吧
右键打开代码方块
点击外观标签，拖出提示文字指令
我们可以使用这个指令来显示当前时间
在这里，变量“hour”的初始值0对应的是中午12点
所以，显示时间时，要使用数学运算符，在变量“hour”的基础上加12
点击运行，按下按键，可以看到时间变化以及显示当前时间的效果啦
此时，显示变量的指令我们可以删除了
为了使显示时间的效果更好，还可以添加一些文字说明
点击运算标签，拖出连接字符串的指令
在第一个框，填入“当前时间：”
第二个框，拖入当前时间对应的数值
到这里，按键控制时间变化以及显示当前时间的效果就完成啦
点击运行程序，测试效果
大家注意观察一下，太阳钟指针影子的移动是均匀变化的吗?
通过观察，我们知道它是不均匀变化的
原因是太阳运动是不均匀的，感兴趣的同学可以课后搜索资料继续学习喔

### 步骤四

在这一小节，我们来为太阳钟添加一个新功能吧
那就是继续编写程序，实现按键调整太阳钟朝向的效果
点击E按钮，打开工具栏
我们在场景中添加多一个代码方块，它同样可以控制太阳钟
右键打开代码方块，在里面编写调整太阳钟朝向的程序
点击事件标签，拖出【当空格键按下时】指令，并修改参数为“3”
然后，在运动标签下，拖出【旋转指令】到它的内部
点击运行，按下“3”键
可以看到，按键调整太阳钟朝向的效果已经实现了
接下来，我们继续实现按键调整太阳钟倾斜角度的效果吧
这里，可以编写程序设定：按下“4”键调整太阳钟的倾斜角度
需要注意的是，让太阳钟沿着Z轴旋转时，才能实现改变倾斜角度的效果
因此，我们需要用到运动标签下的另一个旋转指令
将这个指令的X轴参数和Y轴参数修改为0，Z轴参数修改为15
点击运行，按下按键“4”
可以看到按键控制太阳钟倾斜角度的效果也成功实现了
接下来，请大家继续优化自己的作品吧