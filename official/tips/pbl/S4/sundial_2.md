## 《太阳钟》第二节
 
提示：如视频播放不了，可在课程项目世界里，点击“讲解回放”进行观看。
 
<video width="100%" controls controlslist="nodownload nofullscreen noremoteplayback" disablePictureInPicture>
  <source src="https://api.keepwork.com/ts-storage/siteFiles/22348/raw#太阳钟L2.webm" type="video/webm" />
  <source src="https://api.keepwork.com/ts-storage/siteFiles/22349/raw#太阳钟L2.mp4" type="video/mp4" />
   
  你的浏览器不支持播放
</video>
<style>
video::-webkit-media-controls-fullscreen-button { display: none; } 
</style>

## 字幕

在上节课，我们使用C A D设计出了太阳钟模型
那么，古人是如何通过太阳钟计时的呢？接下来，我们一起模拟实现太阳钟计时的效果吧
舞台中间是一个可以放置太阳钟的基座，它主要是由金属方块搭建而成的

### 步骤一

点击E按钮，打开工具栏
在代码标签下，选取代码方块，将它放置在基座上
右键打开代码方块，点击角色模型，添加我们设计完成的太阳钟作为演员
太阳钟添加好后，需要调整好它的大小、位置和朝向
接着，我们添加一个拉杆，点击拉杆启动代码方块，将太阳钟展示出来
想要看到太阳钟指针的影子，需要在环境设置中开启真实光影
这样，就可以看到世界中所有物体的影子啦
而且，可以看到基座金属方块的光泽，旁边的绿植也有了随风飘动的仿真效果
在环境的设置面板下，我们还可以设置环境的天气
这里，为了真实反映太阳钟的计时变化，需要设置天气为仿真天空
在仿真天空里，太阳会从东边升起，西边落下
指针影子的朝向也会随着不停变化，这就是太阳钟计时的原理
下面，我们拖拉设置光照的滑块
可以看到，在不同的时间点，太阳钟留下的影子朝向不同
于是，人们通过观察影子对应的刻度，就知道当前时间啦

### 步骤二

在上一小节，我们知道可以手动开启环境的真实光影，并设置天气和时间
接下来，我们来学习如何通过程序实现上述效果吧
先点击拉杆，停止运行代码方块
右键打开代码方块，在事件标签下，拖出执行命令指令
点击第一个圆框下拉，我们选择其中的“设置真实光影”命令
这里，通过该命令的参数1、2 、3，设置是否开启真实光影
其中，参数“1”表示关闭真实光影
设置参数为“1”，点击运行程序
可以看到，世界的真实光影效果关闭了，物体的影子也消失了
参数“2”表示开启真实光影，设置好后，点击运行程序
可以看到，真实光影的效果又恢复了
而参数“3”表示开启更高性能的真实光影效果
为了节约计算机的内存资源，我们一般不会使用参数“3”
下面，我们来实现程序控制时间的效果吧
同样地，拖出执行命令指令，选择“改变时间”命令
它的时间参数范围是-1到1，表示一天的时间变化
填入参数“-1”，点击运行，可以看到天变黑了，“-1”表示晚上12点
填入参数“-0.5”，点击运行，可以看到是天蒙蒙亮的状态，“-0.5”表示早上6点
那么，往下推算，参数“0”、“0.5”、“1”分别表示中午12点、傍晚6点、晚上12点
我们可以依次测试一下，看看不同参数对应的时间效果
最后，为了保证良好的视觉效果，我们设置参数为“0”，即中午12点的时间


### 步骤三

在上小节，我们学习了用程序开启真实光影和控制时间
那能不能通过程序，呈现世界一天的时间变化呢？
下面我们一起来实现这个效果吧
右键打开代码方块，在控制标签下，拖出循环变量指令
默认循环中变量“i”的范围是从1到10，每次递增1
它表示会循环执行内部的指令10次，直到变量“i”从1增加到10
修改变量“i”的范围为从-12 到 12，每次递增0.1
使用变量“i”来表示一天24小时的逐渐变化
但改变时间的参数范围是 -1 到 1
所以我们需要新建一个局部变量“time”
将它赋值为变量“i”除以12，这样“time”的变化范围就是-1到1啦
然后，我们就可以根据变量“time”的值来改变时间
为了避免程序执行太快看不到效果，需要在循环中添加等待指令
修改等待指令的参数为0.03
点击运行，可以看到太阳钟呈现一天的计时变化啦
最后，我们再添加永远重复指令，实现世界中时间不停变化的效果
