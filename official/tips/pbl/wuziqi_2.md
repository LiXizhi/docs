## 《五子棋》第二节
 
提示：如视频播放不了，可在课程项目世界里，点击“讲解回放”进行观看。

 <video width="100%" controls controlslist="nodownload nofullscreen noremoteplayback" disablePictureInPicture>
  <source src="https://api.keepwork.com/ts-storage/siteFiles/21591/raw#五子棋2_3.22.webm" type="video/webm" />
  <source src="https://api.keepwork.com/ts-storage/siteFiles/21590/raw#五子棋2_3.22.mp4" type="video/mp4" />
   
  你的浏览器不支持播放
</video>
<style>
video::-webkit-media-controls-fullscreen-button { display: none; } 
</style>



## 字幕


这是我们上节课制作的五子棋
棋盘是手动搭建的，是不是感觉过程比较繁琐呢
如果说，有一种方便快捷的方法
只要点击一个按钮，就能生成棋盘，你想学吗
这个方法就是，利用放置方块指令，让程序来生成我们所需要的棋盘
想要实现上面的效果，我们要先学会使用放置方块指令

### 步骤一

点击E按钮，打开工具栏
选择代码标签下的代码方块，添加到世界中
打开代码方块，切换到图块编辑模式
放置方块的指令在感知标签下
将这个指令拖入右边的脚本区中
这条指令，从左到右三个圆框，分别对应X，Y，Z坐标参数
它们控制该指令在何处放置方块
最后一个圆框，需要填的是方块的ID
它决定了放置的方块是什么，默认放置ID为62的草皮方块
下面，我们将该指令的坐标修改为当前演员的坐标
点击运行，我们发现：在演员的位置自动生成了一个草皮方块
木箱的ID是80，我们修改一下参数，再试试看
此时，可以看到，演员位置上的方块变成了木箱
生成一个方块的效果实现了，那如何生成一长串的方块呢
我们可以这么做，只需要加上一个循环
让某个坐标参数不断发生改变，就可以啦
在控制子标签下选择我们需要的循环指令
循环：变量i从1到10
在运算标签下，拖出加法运算操作指令
然后，让X坐标参数，从当前演员的X坐标开始增加
【编程操作及演示过程】
程序编写好后，点击运行，看看效果
可以看到，棋盘的一条边就沿着X坐标方向自动生成了
目前，我们的程序是以图块的形式编写
此时，再点击图块按钮，就可以看到底层文本代码的样子
当熟悉编程后，我们就可以直接编写文本代码，实现想要的效果啦
### 步骤二
我们知道，棋盘是方形的，光有一条边还不行
我们需要更多的方块才能组成一张棋盘，它该如何编程实现呢
这里，我们可以先思考一下
一个循环，程序就能生成一条边
那么，再加多一个循环是不是就能实现自动生成一张棋盘了呢
这个思路是正确的
我们用一个循环，控制边的长度
用另一个循环，控制生成边数，从而组成棋盘
下面，我们一起来编程试试吧
【加载模板】
为了更好地看清楚程序
我们可以点击屏幕右上角的放缩窗口按钮
它可以放大或缩小脚本区，方便我们编写程序
从控制标签中再拖出一条相同的循环指令
修改它的变量为j，然后把它放到第一个循环的肚子里
此时，类似X坐标，我们可以让Z坐标伴随着变量j变化
我们修改放置方块指令的ID为10，使用彩色方块默认的白色（模板ID会设置成80，保持相同）
运行程序，可以看到一张10X10的棋盘就自动生成啦
为了更加清楚棋盘的生成过程
我们可以在循环中添加一条等待指令，比如等待0.1秒
先清空已经生成的棋盘
我们再运行程序，看看效果
这就是生成整张棋盘的过程


### 步骤三

我们已经可以编写程序
生成想要的棋盘了
其实，我们可以通过调整程序里for循环的参数
自定义棋盘的大小喔
下面我们来试试看吧

在运行程序生成棋盘之前
可以先调整好演员的位置
点击运行程序，可以看到在当前演员的位置，生成了一张10X10的木箱棋盘
然后，我们把外循环的参数都修改为变量从1到5
把放置的方块修改成云杉木，ID是126
点击运行程序，可以看到，生成了一张5X10的云杉木棋盘
那如果把内循环的参数范围也修改为从1到5
再把放置的方块修改为橡木，ID是98
再次点击运行程序，可以看到生成了一张5X5的橡木棋盘
现在，你可以通过修改程序参数自定义你的棋盘大小啦
快去试试吧
下节课，我们将学习为我们的五子棋添加多人联机功能，支持与其他同学联机对战
期待与你的再次相遇喔

